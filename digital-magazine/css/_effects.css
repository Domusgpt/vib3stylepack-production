/* digital-magazine/css/_effects.css */

/* --- Text Glitch Effect --- */
/* Apply .text-glitch class to an element */
.text-glitch {
    position: relative;
    color: var(--color-neon-cyan); /* Base color */
    text-shadow: 0 0 2px rgba(var(--color-neon-cyan-rgb), 0.5);
    animation: glitch-scanline 8s linear infinite; /* Subtle scanline movement */
}

.text-glitch::before,
.text-glitch::after {
    content: attr(data-text); /* Requires the element to have data-text="THE_SAME_TEXT" */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: transparent; /* Or match parent background if needed */
}

.text-glitch::before {
    left: 2px;
    text-shadow: -1px 0 var(--color-neon-magenta);
    clip-path: inset(0 0 0 0); /* Start fully visible */
    animation: glitch-anim-1 4s infinite linear alternate-reverse;
}

.text-glitch::after {
    left: -2px;
    text-shadow: 1px 0 var(--color-neon-green); /* Using green for the other channel */
    clip-path: inset(0 0 0 0); /* Start fully visible */
    animation: glitch-anim-2 3s infinite linear alternate-reverse; /* Slightly different timing */
}

@keyframes glitch-anim-1 {
    0% { clip-path: inset(30% 0 60% 0); }
    10% { clip-path: inset(10% 0 80% 0); }
    20% { clip-path: inset(90% 0 5% 0); }
    30% { clip-path: inset(40% 0 30% 0); }
    40% { clip-path: inset(75% 0 10% 0); }
    50% { clip-path: inset(20% 0 70% 0); }
    60% { clip-path: inset(95% 0 2% 0); }
    70% { clip-path: inset(50% 0 25% 0); }
    80% { clip-path: inset(15% 0 88% 0); }
    90% { clip-path: inset(60% 0 15% 0); }
    100% { clip-path: inset(35% 0 50% 0); }
}

@keyframes glitch-anim-2 {
    0% { clip-path: inset(70% 0 20% 0); }
    10% { clip-path: inset(5% 0 90% 0); }
    20% { clip-path: inset(80% 0 10% 0); }
    30% { clip-path: inset(25% 0 45% 0); }
    40% { clip-path: inset(60% 0 15% 0); }
    50% { clip-path: inset(30% 0 55% 0); }
    60% { clip-path: inset(85% 0 5% 0); }
    70% { clip-path: inset(40% 0 35% 0); }
    80% { clip-path: inset(20% 0 78% 0); }
    90% { clip-path: inset(70% 0 5% 0); }
    100% { clip-path: inset(45% 0 30% 0); }
}

@keyframes glitch-scanline {
    0% { transform: translateY(0); }
    10% { transform: translateY(-1px); }
    20% { transform: translateY(1px); }
    30% { transform: translateY(-0.5px); }
    40% { transform: translateY(0.5px); }
    50% { transform: translateY(0); }
    /* Stays stable for the rest, less jarring */
    100% { transform: translateY(0); }
}


/* --- Pulsing Glow Hover Effect for Links/Buttons --- */
/* Apply .pulsing-glow-hover to an interactive element */
.pulsing-glow-hover {
    transition: text-shadow 0.3s ease-in-out, color 0.3s ease;
}
.pulsing-glow-hover:hover,
.pulsing-glow-hover:focus {
    /* Default color is defined on the element itself */
    animation: pulse-glow-anim 1.5s infinite alternate;
}

@keyframes pulse-glow-anim {
    from {
        text-shadow: 0 0 5px rgba(var(--color-white-rgb, 255,255,255), 0.5), /* Add --color-white-rgb */
                     0 0 10px rgba(var(--color-white-rgb, 255,255,255), 0.4),
                     0 0 15px currentColor, /* Uses the element's current text color */
                     0 0 20px currentColor;
    }
    to {
        text-shadow: 0 0 10px rgba(var(--color-white-rgb, 255,255,255), 0.7),
                     0 0 20px rgba(var(--color-white-rgb, 255,255,255), 0.6),
                     0 0 30px currentColor,
                     0 0 40px currentColor,
                     0 0 50px currentColor; /* Wider glow */
    }
}

/* --- Simple Holographic Text Hover --- */
/* Apply .text-holographic-hover */
.text-holographic-hover {
    position: relative;
    display: inline-block; /* Or block */
    color: var(--color-light-grey); /* Base color */
    transition: color 0.3s ease;
}

.text-holographic-hover:hover {
    color: var(--color-white);
}

.text-holographic-hover::after {
    content: attr(data-text);
    position: absolute;
    left: 0;
    top: 0;
    color: var(--color-neon-cyan);
    opacity: 0;
    transform: translate3d(2px, 2px, -1px) scale(1.01);
    transition: opacity 0.3s ease, transform 0.3s ease;
    text-shadow: 0 0 5px rgba(var(--color-neon-cyan-rgb), 0.7);
    z-index: -1; /* Behind the main text */
}

.text-holographic-hover:hover::after {
    opacity: 1;
    transform: translate3d(0px, 0px, 0px) scale(1);
}


/* Add --color-white-rgb to _variables.css if not present */
/* :root { --color-white-rgb: 255, 255, 255; } */
